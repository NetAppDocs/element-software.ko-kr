= 드라이브 추가 및 제거에 대한 모범 사례
:allow-uri-read: 


드라이브에 결함이 있거나 드라이브 마모 수준이 임계값 아래로 떨어지면 드라이브를 교체해야 합니다. Element 소프트웨어 UI의 알람은 드라이브에 오류가 발생하거나 오류가 발생할 때 이를 알려줍니다. 장애가 발생한 드라이브를 핫 스왑할 수 있습니다.

이 절차는 H410S 및 H610S 스토리지 노드의 드라이브를 교체하는 것입니다. 드라이브를 제거하면 드라이브가 오프라인 상태가 됩니다. 드라이브의 모든 데이터가 제거되고 클러스터의 다른 드라이브로 마이그레이션됩니다. 시스템의 다른 활성 드라이브로 데이터를 마이그레이션하는 데는 용량 활용률과 클러스터의 활성 I/O에 따라 몇 분에서 한 시간까지 걸릴 수 있습니다. 드라이브를 분리 및 교체하는 동안 드라이브를 처리하는 데 있어 다음 모범 사례를 따라야 합니다.

* 설치할 준비가 될 때까지 드라이브를 ESD 백에 보관하십시오.
* ESD 가방을 손으로 열거나 가위로 잘라냅니다.
* 항상 섀시의 도색되지 않은 표면에 접지된 ESD 손목 접지대를 착용하십시오.
* 드라이브를 분리, 설치 또는 운반할 때는 항상 양손을 사용하십시오.
* 섀시에 드라이브를 강제로 밀어 넣지 마십시오.
* 드라이브를 배송할 때는 항상 승인된 포장재를 사용하십시오.
* 드라이브를 서로 겹쳐서 쌓지 마십시오.




== 드라이브 추가 및 제거에 대한 모범 사례

* 슬라이스 드라이브를 추가하기 전에 모든 블록 드라이브를 추가하고 블록 동기화가 완료되었는지 확인하십시오.
* Element 소프트웨어 10.x 이상의 경우 모든 블록 드라이브를 한 번에 추가합니다. 한 번에 3개 이상의 노드에 대해 이 작업을 수행하지 마십시오.
* Element 소프트웨어 9.x 및 이전 버전의 경우 세 개의 드라이브를 한 번에 추가하여 완전히 동기화한 후 다음 3개의 그룹을 추가합니다.
* 블록 드라이브를 제거하기 전에 슬라이스 드라이브를 제거하고 슬라이스 동기화가 완료되었는지 확인하십시오.
* 단일 노드에서 모든 블록 드라이브를 한 번에 제거합니다. 다음 노드로 이동하기 전에 모든 블록 동기화가 완료되었는지 확인하십시오.


.단계
. NetApp Element 소프트웨어 UI를 사용하여 클러스터에서 드라이브를 제거합니다.
+
.. Element UI에서 * Cluster > Drives * 를 선택합니다.
.. 실패한 드라이브 목록을 보려면 * Failed * 를 선택합니다.
.. 오류가 발생한 드라이브의 슬롯 번호를 기록해 둡니다. 섀시에서 오류가 발생한 드라이브를 찾으려면 이 정보가 필요합니다.
.. 제거할 드라이브에 대해 * Actions * 를 선택합니다.
.. 제거 * 를 선택합니다.
+

NOTE: 노드를 제거하기 전에 활성 드라이브를 제거할 용량이 충분하지 않으면 드라이브 제거를 확인할 때 오류 메시지가 나타납니다. 오류를 해결한 후 이제 섀시에서 드라이브를 물리적으로 제거할 수 있습니다.



. 섀시에서 드라이브를 교체합니다.
+
.. 교체용 드라이브의 포장을 풀고 랙 근처의 평평하고 정전기가 없는 표면에 놓습니다. 오류가 발생한 드라이브를 NetApp에 반환할 때 사용할 수 있도록 포장재를 저장합니다. H610S 및 H410S 스토리지 노드 전면의 드라이브:
+
image::h610s_h410s.png[에서는 H610S 및 H410S 스토리지 노드의 전면을 보여 줍니다.]

.. (* H410S에만 해당 *) 다음 단계를 수행하십시오.
+
... Element UI에서 기록해 둔 번호와 일련 번호(서비스 태그)를 일치시켜 노드를 식별합니다. 일련 번호는 각 노드 뒷면의 스티커에 나와 있습니다. 노드를 식별한 후 슬롯 정보를 사용하여 장애가 발생한 드라이브가 있는 슬롯을 식별할 수 있습니다. 드라이브는 A에서 D까지 알파벳 순으로 정렬되며 0에서 5까지 정렬됩니다.
... 베젤을 분리합니다.
... 장애가 발생한 드라이브의 분리 단추를 누릅니다.
+
image::h410s_drive.png[에는 H410S 스토리지 노드의 드라이브에 대한 해제 버튼이 나와 있습니다.]

+
분리 단추를 누르면 드라이브 스프링의 캠 핸들이 부분적으로 열리고 드라이브가 미드플레인에서 해제됩니다.

... 캠 핸들을 열고 양손으로 조심스럽게 드라이브를 밀어 꺼냅니다.
... 드라이브를 정전기 방지 표면에 놓습니다.
... 양손으로 교체 드라이브를 섀시에 완전히 삽입합니다.
... 딸깍 소리가 날 때까지 캠 핸들을 누릅니다.
... 베젤을 다시 설치합니다.
... 드라이브 교체에 대해 NetApp Support에 알립니다. NetApp Support에서 장애가 발생한 드라이브의 반품 지침을 제공합니다.


.. (* H610S 전용 *) 다음 단계를 수행하십시오.
+
... Element UI에서 오류가 발생한 드라이브의 슬롯 번호를 섀시의 번호와 일치시킵니다. 오류가 발생한 드라이브의 LED가 주황색으로 켜져 있습니다.
... 베젤을 분리합니다.
... 분리 단추를 누르고 다음 그림과 같이 결함이 있는 드라이브를 분리합니다.
+
image::h610s_driveremove.png[에서는 H610S 노드에서 제거되고 있는 드라이브를 보여 줍니다.]

+

NOTE: 섀시 밖으로 드라이브를 밀어내기 전에 트레이 손잡이가 완전히 열려 있는지 확인하십시오.

... 드라이브를 밀어 빼내고 정전기가 없는 평평한 표면에 놓습니다.
... 드라이브 베이에 드라이브를 넣기 전에 교체 드라이브의 분리 단추를 누르십시오. 드라이브 트레이 핸들 스프링이 열립니다.
+
image::H600S_driveinstall.png[에서는 H610S 노드에 설치되어 있는 드라이브를 보여 줍니다.]

... 과도한 힘을 가하지 않고 교체용 드라이브를 삽입합니다. 드라이브가 완전히 삽입되면 딸깍 소리가 납니다.
... 드라이브 트레이 핸들을 조심스럽게 닫습니다.
... 베젤을 다시 설치합니다.
... 드라이브 교체에 대해 NetApp Support에 알립니다. NetApp Support에서 장애가 발생한 드라이브의 반품 지침을 제공합니다.




. Element UI를 사용하여 드라이브를 클러스터에 다시 추가합니다.
+

NOTE: 기존 노드에 새 드라이브를 설치하면 드라이브는 자동으로 요소 UI에 * 사용 가능 * 으로 등록됩니다. 클러스터에 드라이브를 추가하려면 먼저 클러스터에 드라이브를 추가해야 합니다.

+
.. Element UI에서 * Cluster > Drives * 를 선택합니다.
.. 사용 가능한 드라이브 목록을 보려면 * 사용 가능 * 을 선택합니다.
.. 추가할 드라이브에 대한 작업 아이콘을 선택하고 * 추가 * 를 선택합니다.






== 자세한 내용을 확인하십시오

* https://www.netapp.com/data-storage/solidfire/documentation/["NetApp SolidFire 리소스 페이지 를 참조하십시오"^]
* https://docs.netapp.com/sfe-122/topic/com.netapp.ndc.sfe-vers/GUID-B1944B0E-B335-4E0B-B9F1-E960BF32AE56.html["이전 버전의 NetApp SolidFire 및 Element 제품에 대한 문서"^]

